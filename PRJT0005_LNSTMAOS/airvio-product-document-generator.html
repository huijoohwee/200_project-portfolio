<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIRVIO - Product Document Generator</title>
    <style>
        /* MacOSé£æ ¼å˜é‡ */
        :root {
            --primary-color: #007AFF;
            --secondary-color: #5856D6;
            --success-color: #34C759;
            --warning-color: #FF9500;
            --error-color: #FF3B30;
            --background-color: #F2F2F7;
            --surface-color: #FFFFFF;
            --text-primary: #000000;
            --text-secondary: #8E8E93;
            --border-color: #C6C6C8;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background-color);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            background: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            padding: 0 20px;
            box-shadow: var(--shadow);
            z-index: 1000;
            position: fixed;
            width: 100%;
            top: 0;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .brand-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .subtitle {
            font-size: 12px;
            color: var(--text-secondary);
            margin-left: 8px;
        }

        .nav-actions {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: #0056CC;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: var(--background-color);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--border-color);
        }

        /* ä¸»å®¹å™¨ */
        .main-container {
            display: flex;
            height: calc(100vh - 60px);
            margin-top: 60px;
            gap: 1px;
            background: var(--border-color);
        }

        /* å·¦ä¾§é…ç½®é¢æ¿ */
        .sidebar {
            width: 350px;
            background: var(--surface-color);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
        }

        .sidebar-subtitle {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .config-section {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            color: var(--text-primary);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            transition: var(--transition);
            background: var(--surface-color);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .checkbox-item {
            padding: 6px 12px;
            background: var(--background-color);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            font-size: 12px;
            cursor: pointer;
            transition: var(--transition);
            user-select: none;
        }

        .checkbox-item:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .checkbox-item.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .content-area {
            flex: 1;
            background: var(--surface-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .content-header {
            padding: 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .content-title {
            font-size: 20px;
            font-weight: 600;
        }

        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .progress-bar {
            width: 120px;
            height: 6px;
            background: var(--background-color);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--success-color);
            transition: width 0.3s ease;
        }

        .document-preview {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            font-size: 16px;
        }

        .spinner {
            width: 32px;
            height: 32px;
            border: 3px solid var(--background-color);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 16px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* æ–‡æ¡£æ ·å¼ */
        .document {
            max-width: 800px;
            margin: 0 auto;
            background: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .document-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 30px;
            text-align: center;
        }

        .document-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .document-subtitle {
            font-size: 16px;
            opacity: 0.9;
        }

        .document-content {
            padding: 30px;
        }

        .doc-section {
            margin-bottom: 32px;
        }

        .doc-section-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .doc-section-content {
            line-height: 1.6;
            color: var(--text-primary);
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .metric-card {
            background: var(--background-color);
            padding: 16px;
            border-radius: var(--border-radius);
            text-align: center;
        }

        .metric-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .metric-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .feature-list {
            list-style: none;
            margin: 16px 0;
        }

        .feature-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feature-list li::before {
            content: "âœ“";
            color: var(--success-color);
            font-weight: bold;
        }

        /* Tokené¢„ç®—æ§åˆ¶é¢æ¿ */
        .token-budget-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 280px;
            background: var(--surface-color);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            z-index: 1000;
        }

        .token-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            color: var(--primary-color);
        }

        .token-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 16px;
            border-bottom: 1px solid var(--border-color);
            font-size: 14px;
        }

        .token-item:last-child {
            border-bottom: none;
        }

        .token-total {
            background: var(--background-color);
            font-weight: 600;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: 300px;
            }
            
            .token-budget-panel {
                position: relative;
                bottom: auto;
                right: auto;
                width: 100%;
                margin: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="nav-brand">
            <div class="logo">PD</div>
            <div>
                <div class="brand-text">AIRVIO Product Document</div>
                <div class="subtitle">æ™ºèƒ½äº§å“æ–‡æ¡£ç”Ÿæˆå™¨</div>
            </div>
        </div>
        <div class="nav-actions">
            <button class="btn btn-secondary" onclick="exportDocument()">ğŸ“„ å¯¼å‡ºæ–‡æ¡£</button>
            <button class="btn btn-primary" onclick="generateDocument()">ğŸš€ ç”Ÿæˆæ–‡æ¡£</button>
        </div>
    </nav>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- å·¦ä¾§é…ç½®é¢æ¿ -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">é…ç½®å‚æ•°</div>
                <div class="sidebar-subtitle">åŸºäºAIRVIOåŠ¨æ€å­—æ®µç³»ç»Ÿ</div>
            </div>

            <!-- åŸºç¡€ä¿¡æ¯ -->
            <div class="config-section">
                <div class="section-title">ğŸ“‹ åŸºç¡€ä¿¡æ¯</div>
                <div class="form-group">
                    <label class="form-label">äº§å“åç§°</label>
                    <input type="text" class="form-input" id="productName" placeholder="è¾“å…¥æ‚¨çš„äº§å“åç§°">
                </div>
                <div class="form-group">
                    <label class="form-label">åˆ›ä¸šé˜¶æ®µ</label>
                    <select class="form-select" id="startupPhase">
                        <option value="discovery">å‘ç°é˜¶æ®µ (Discovery)</option>
                        <option value="validation">éªŒè¯é˜¶æ®µ (Validation)</option>
                        <option value="development">å¼€å‘é˜¶æ®µ (Development)</option>
                        <option value="launch">å¯åŠ¨é˜¶æ®µ (Launch)</option>
                        <option value="fundraising">èèµ„é˜¶æ®µ (Fundraising)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">äº§å“æè¿°</label>
                    <textarea class="form-textarea" id="productDescription" placeholder="ç®€è¦æè¿°æ‚¨çš„äº§å“åŠŸèƒ½å’Œä»·å€¼"></textarea>
                </div>
            </div>

            <!-- ä»·å€¼é“¾é…ç½® -->
            <div class="config-section">
                <div class="section-title">ğŸ¯ ä»·å€¼é“¾é…ç½®</div>
                <div class="form-group">
                    <label class="form-label">ç›®æ ‡ç”¨æˆ·</label>
                    <input type="text" class="form-input" id="targetUsers" placeholder="æè¿°æ‚¨çš„ç›®æ ‡ç”¨æˆ·ç¾¤ä½“">
                </div>
                <div class="form-group">
                    <label class="form-label">æ ¸å¿ƒç—›ç‚¹</label>
                    <textarea class="form-textarea" id="corePainPoints" placeholder="ç”¨æˆ·é¢ä¸´çš„ä¸»è¦é—®é¢˜"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">è§£å†³æ–¹æ¡ˆ</label>
                    <textarea class="form-textarea" id="solution" placeholder="æ‚¨çš„äº§å“å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜"></textarea>
                </div>
            </div>

            <!-- Tokené¢„ç®—é…ç½® -->
            <div class="config-section">
                <div class="section-title">ğŸ’° Tokené¢„ç®—</div>
                <div class="form-group">
                    <label class="form-label">æ€»é¢„ç®—</label>
                    <input type="number" class="form-input" id="totalBudget" value="53000" min="30000" max="100000">
                </div>
                <div class="form-group">
                    <label class="form-label">æ•ˆç‡ç›®æ ‡</label>
                    <input type="number" class="form-input" id="efficiencyTarget" value="85" min="70" max="95" step="5">
                    <small style="color: var(--text-secondary); font-size: 12px;">ç›®æ ‡æ•ˆç‡ (%)</small>
                </div>
            </div>

            <!-- æŠ€æœ¯æ ‡ç­¾ -->
            <div class="config-section">
                <div class="section-title">ğŸ·ï¸ æŠ€æœ¯æ ‡ç­¾</div>
                <div class="checkbox-group">
                    <div class="checkbox-item" data-tag="ai-native">AIåŸç”Ÿ</div>
                    <div class="checkbox-item" data-tag="cloud-native">äº‘åŸç”Ÿ</div>
                    <div class="checkbox-item" data-tag="mvp">MVP</div>
                    <div class="checkbox-item" data-tag="lean-startup">ç²¾ç›Šåˆ›ä¸š</div>
                    <div class="checkbox-item" data-tag="quick-launch">å¿«é€Ÿå¯åŠ¨</div>
                    <div class="checkbox-item" data-tag="DRY">DRYåŸåˆ™</div>
                    <div class="checkbox-item" data-tag="SOLID">SOLIDåŸåˆ™</div>
                    <div class="checkbox-item" data-tag="multi-agent">å¤šæ™ºèƒ½ä½“</div>
                    <div class="checkbox-item" data-tag="human-ai-collaboration">äººæœºåä½œ</div>
                    <div class="checkbox-item" data-tag="token-economy">Tokenç»æµ</div>
                </div>
            </div>
        </div>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <div class="content-header">
                <div class="content-title">Product Document é¢„è§ˆ</div>
                <div class="progress-indicator">
                    <span>ç”Ÿæˆè¿›åº¦</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                    <span id="progressText">0%</span>
                </div>
            </div>

            <div class="document-preview" id="documentPreview">
                <div class="loading">
                    <div class="spinner"></div>
                    ç‚¹å‡»"ç”Ÿæˆæ–‡æ¡£"å¼€å§‹åˆ›å»ºæ‚¨çš„Product Document
                </div>
            </div>
        </div>
    </div>

    <!-- Tokené¢„ç®—æ§åˆ¶é¢æ¿ -->
    <div class="token-budget-panel">
        <div class="token-header">ğŸ’° Tokené¢„ç®—ç›‘æ§</div>
        <div class="token-item">
            <span>æ–‡æ¡£ç”Ÿæˆ</span>
            <span id="docGenerationTokens">12,500</span>
        </div>
        <div class="token-item">
            <span>å†…å®¹ä¼˜åŒ–</span>
            <span id="contentOptTokens">8,200</span>
        </div>
        <div class="token-item">
            <span>æ ¼å¼æ¸²æŸ“</span>
            <span id="formatTokens">3,800</span>
        </div>
        <div class="token-item">
            <span>è´¨é‡æ£€æŸ¥</span>
            <span id="qualityTokens">2,100</span>
        </div>
        <div class="token-item token-total">
            <span>æ€»ä½¿ç”¨</span>
            <span id="totalTokens">26,600 / 53,000</span>
        </div>
    </div>

    <script>
        // åŠ¨æ€å­—æ®µé…ç½®æ•°æ®
        const dynamicFields = {
            TOKEN_BUDGET_TOTAL: {
                "zh-CN": "æ€»Tokené¢„ç®—",
                "en-US": "Total Token Budget",
                "description": "å®Œæ•´åˆ›ä¸šå‘¨æœŸçš„Tokenæ€»é¢„ç®—",
                "type": "token_budget",
                "priority": "P0",
                "example": "53000",
                "efficiency_target": 0.85
            },
            VALUE_CAUSAL_CHAIN: {
                "zh-CN": "ä»·å€¼å› æœé“¾",
                "en-US": "Value Causal Chain",
                "description": "åŸºäº(æ¡ä»¶)â†’é€šè¿‡[æ–¹æ¡ˆ]â†’å®ç°{ä»·å€¼}è¯­ä¹‰æ ¼å¼",
                "type": "object",
                "priority": "P0"
            },
            LEAN_STARTUP_CYCLE: {
                "zh-CN": "ç²¾ç›Šåˆ›ä¸šå¾ªç¯",
                "en-US": "Lean Startup Cycle",
                "description": "æ„å»º-æµ‹é‡-å­¦ä¹ çš„æ ¸å¿ƒå¾ªç¯æœºåˆ¶",
                "type": "object",
                "priority": "P0"
            },
            MVP_DELIVERY_TIME: {
                "zh-CN": "MVPäº¤ä»˜æ—¶é—´",
                "en-US": "MVP Delivery Time",
                "description": "ä»å¯åŠ¨åˆ°MVPä¸Šçº¿çš„ç›®æ ‡æ—¶é—´",
                "type": "timeline",
                "example": "24å°æ—¶"
            }
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeTagSelection();
            updateTokenBudget();
        });

        // æ ‡ç­¾é€‰æ‹©åŠŸèƒ½
        function initializeTagSelection() {
            const checkboxItems = document.querySelectorAll('.checkbox-item');
            checkboxItems.forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('active');
                    updateTokenBudget();
                });
            });
        }

        // æ›´æ–°Tokené¢„ç®—
        function updateTokenBudget() {
            const totalBudget = parseInt(document.getElementById('totalBudget').value) || 53000;
            const selectedTags = document.querySelectorAll('.checkbox-item.active').length;
            
            // æ ¹æ®é€‰æ‹©çš„æ ‡ç­¾åŠ¨æ€è®¡ç®—Tokenåˆ†é…
            const docTokens = Math.floor(totalBudget * 0.35);
            const contentTokens = Math.floor(totalBudget * 0.25);
            const formatTokens = Math.floor(totalBudget * 0.15);
            const qualityTokens = Math.floor(totalBudget * 0.10);
            const usedTokens = docTokens + contentTokens + formatTokens + qualityTokens;
            
            document.getElementById('docGenerationTokens').textContent = docTokens.toLocaleString();
            document.getElementById('contentOptTokens').textContent = contentTokens.toLocaleString();
            document.getElementById('formatTokens').textContent = formatTokens.toLocaleString();
            document.getElementById('qualityTokens').textContent = qualityTokens.toLocaleString();
            document.getElementById('totalTokens').textContent = `${usedTokens.toLocaleString()} / ${totalBudget.toLocaleString()}`;
        }

        // ç”Ÿæˆæ–‡æ¡£
        function generateDocument() {
            const productName = document.getElementById('productName').value || 'ç¤ºä¾‹äº§å“';
            const startupPhase = document.getElementById('startupPhase').value;
            const productDescription = document.getElementById('productDescription').value || 'åŸºäºAIæŠ€æœ¯çš„åˆ›æ–°äº§å“è§£å†³æ–¹æ¡ˆ';
            const targetUsers = document.getElementById('targetUsers').value || 'ä¸­å°ä¼ä¸šå’Œä¸ªäººå¼€å‘è€…';
            const corePainPoints = document.getElementById('corePainPoints').value || 'ä¼ ç»Ÿå¼€å‘æµç¨‹å¤æ‚ï¼Œæˆæœ¬é«˜æ˜‚ï¼Œå‘¨æœŸé•¿';
            const solution = document.getElementById('solution').value || 'é€šè¿‡AIæ™ºèƒ½åŒ–å·¥å…·é“¾ï¼Œå®ç°å¿«é€ŸåŸå‹å¼€å‘å’ŒéªŒè¯';
            const selectedTags = Array.from(document.querySelectorAll('.checkbox-item.active')).map(item => item.dataset.tag);
            
            // æ˜¾ç¤ºè¿›åº¦
            showProgress();
            
            // æ¨¡æ‹Ÿç”Ÿæˆè¿‡ç¨‹
            setTimeout(() => {
                const documentHTML = generateDocumentHTML({
                    productName,
                    startupPhase,
                    productDescription,
                    targetUsers,
                    corePainPoints,
                    solution,
                    selectedTags
                });
                
                document.getElementById('documentPreview').innerHTML = documentHTML;
                document.getElementById('progressFill').style.width = '100%';
                document.getElementById('progressText').textContent = '100%';
            }, 2000);
        }

        // æ˜¾ç¤ºç”Ÿæˆè¿›åº¦
        function showProgress() {
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 95) {
                    progress = 95;
                    clearInterval(interval);
                }
                document.getElementById('progressFill').style.width = progress + '%';
                document.getElementById('progressText').textContent = Math.round(progress) + '%';
            }, 200);
        }

        // ç”Ÿæˆæ–‡æ¡£HTML
        function generateDocumentHTML(data) {
            const phaseNames = {
                'discovery': 'å‘ç°é˜¶æ®µ',
                'validation': 'éªŒè¯é˜¶æ®µ', 
                'development': 'å¼€å‘é˜¶æ®µ',
                'launch': 'å¯åŠ¨é˜¶æ®µ',
                'fundraising': 'èèµ„é˜¶æ®µ'
            };
            
            const tagNames = {
                'ai-native': 'AIåŸç”Ÿ',
                'cloud-native': 'äº‘åŸç”Ÿ',
                'mvp': 'MVP',
                'lean-startup': 'ç²¾ç›Šåˆ›ä¸š',
                'quick-launch': 'å¿«é€Ÿå¯åŠ¨',
                'DRY': 'DRYåŸåˆ™',
                'SOLID': 'SOLIDåŸåˆ™',
                'multi-agent': 'å¤šæ™ºèƒ½ä½“',
                'human-ai-collaboration': 'äººæœºåä½œ',
                'token-economy': 'Tokenç»æµ'
            };
            
            return `
                <div class="document">
                    <div class="document-header">
                        <div class="document-title">${data.productName}</div>
                        <div class="document-subtitle">Product Document - ${phaseNames[data.startupPhase]}</div>
                    </div>
                    
                    <div class="document-content">
                        <!-- äº§å“æ¦‚è¿° -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ“‹ äº§å“æ¦‚è¿°</div>
                            <div class="doc-section-content">
                                <p><strong>äº§å“æè¿°ï¼š</strong>${data.productDescription}</p>
                                <p><strong>ç›®æ ‡ç”¨æˆ·ï¼š</strong>${data.targetUsers}</p>
                                <p><strong>å½“å‰é˜¶æ®µï¼š</strong>${phaseNames[data.startupPhase]}</p>
                            </div>
                        </div>
                        
                        <!-- ä»·å€¼ä¸»å¼  -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ¯ ä»·å€¼ä¸»å¼ </div>
                            <div class="doc-section-content">
                                <p><strong>æ ¸å¿ƒç—›ç‚¹ï¼š</strong></p>
                                <p>${data.corePainPoints}</p>
                                <p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
                                <p>${data.solution}</p>
                                <p><strong>ä»·å€¼å› æœé“¾ï¼š</strong></p>
                                <p>åŸºäº(${data.corePainPoints.substring(0, 20)}...)â†’é€šè¿‡[${data.solution.substring(0, 20)}...]â†’å®ç°{ç”¨æˆ·ä»·å€¼æœ€å¤§åŒ–}</p>
                            </div>
                        </div>
                        
                        <!-- æŠ€æœ¯æ¶æ„ -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ—ï¸ æŠ€æœ¯æ¶æ„</div>
                            <div class="doc-section-content">
                                <p>åŸºäºé€‰å®šçš„æŠ€æœ¯æ ‡ç­¾æ„å»ºäº§å“æ¶æ„ï¼š</p>
                                <div class="checkbox-group">
                                    ${data.selectedTags.map(tag => `<div class="checkbox-item active">${tagNames[tag] || tag}</div>`).join('')}
                                </div>
                                <p style="margin-top: 16px;">æ ¸å¿ƒæŠ€æœ¯ç‰¹æ€§ï¼š</p>
                                <ul class="feature-list">
                                    <li>AIåŸç”Ÿæ¶æ„ï¼Œæ”¯æŒå¤šæ™ºèƒ½ä½“åä½œ</li>
                                    <li>Tokenç»æµæ¨¡å‹ï¼Œå®ç°æˆæœ¬é€æ˜åŒ–</li>
                                    <li>å¿«é€Ÿå¯åŠ¨èƒ½åŠ›ï¼Œ24å°æ—¶MVPäº¤ä»˜</li>
                                    <li>äººæœºåä½œä¼˜åŒ–ï¼Œè‡ªåŠ¨åŒ–ç‡â‰¥90%</li>
                                    <li>ç²¾ç›Šåˆ›ä¸šå¾ªç¯ï¼ŒæŒç»­è¿­ä»£ä¼˜åŒ–</li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- å…³é”®æŒ‡æ ‡ -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ“Š å…³é”®æŒ‡æ ‡</div>
                            <div class="doc-section-content">
                                <div class="metric-grid">
                                    <div class="metric-card">
                                        <div class="metric-value">24å°æ—¶</div>
                                        <div class="metric-label">MVPäº¤ä»˜æ—¶é—´</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">â‰¥85%</div>
                                        <div class="metric-label">Tokenä½¿ç”¨æ•ˆç‡</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">â‰¥90%</div>
                                        <div class="metric-label">è‡ªåŠ¨åŒ–ç‡</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">â‰¥95%</div>
                                        <div class="metric-label">MVPå­˜æ´»ç‡</div>
                                    </div>
                                </div>
                                <div style="margin-top: 16px;">
                                    <div class="metric-description">åŸºäºAIRVIOåŠ¨æ€å­—æ®µéªŒè¯çš„å…³é”®æ€§èƒ½æŒ‡æ ‡</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- å‘å±•è·¯çº¿å›¾ -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ—ºï¸ å‘å±•è·¯çº¿å›¾</div>
                            <div class="doc-section-content">
                                <p><strong>çŸ­æœŸç›®æ ‡ï¼ˆ1-3ä¸ªæœˆï¼‰ï¼š</strong></p>
                                <ul class="feature-list">
                                    <li>å®ŒæˆMVPå¼€å‘å’Œç”¨æˆ·æµ‹è¯•</li>
                                    <li>éªŒè¯æ ¸å¿ƒä»·å€¼å‡è®¾</li>
                                    <li>å»ºç«‹åŸºç¡€ç”¨æˆ·ç¾¤ä½“</li>
                                </ul>
                                <p><strong>ä¸­æœŸç›®æ ‡ï¼ˆ3-12ä¸ªæœˆï¼‰ï¼š</strong></p>
                                <ul class="feature-list">
                                    <li>äº§å“åŠŸèƒ½å®Œå–„å’Œä¼˜åŒ–</li>
                                    <li>æ‰©å¤§å¸‚åœºè¦†ç›–èŒƒå›´</li>
                                    <li>å»ºç«‹å•†ä¸šåŒ–æ¨¡å¼</li>
                                </ul>
                                <p><strong>é•¿æœŸç›®æ ‡ï¼ˆ1-3å¹´ï¼‰ï¼š</strong></p>
                                <ul class="feature-list">
                                    <li>å®ç°è§„æ¨¡åŒ–å¢é•¿</li>
                                    <li>å»ºç«‹è¡Œä¸šé¢†å…ˆåœ°ä½</li>
                                    <li>æ¢ç´¢æ–°çš„ä¸šåŠ¡æœºä¼š</li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Tokenç»æµæ¨¡å‹ -->
                        <div class="doc-section">
                            <div class="doc-section-title">ğŸ’° Tokenç»æµæ¨¡å‹</div>
                            <div class="doc-section-content">
                                <p><strong>é¢„ç®—åˆ†é…ç­–ç•¥ï¼š</strong></p>
                                <div class="metric-grid">
                                    <div class="metric-card">
                                        <div class="metric-value">35%</div>
                                        <div class="metric-label">æ–‡æ¡£ç”Ÿæˆ</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">25%</div>
                                        <div class="metric-label">å†…å®¹ä¼˜åŒ–</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">15%</div>
                                        <div class="metric-label">æ ¼å¼æ¸²æŸ“</div>
                                    </div>
                                    <div class="metric-card">
                                        <div class="metric-value">10%</div>
                                        <div class="metric-label">è´¨é‡æ£€æŸ¥</div>
                                    </div>
                                </div>
                                <p style="margin-top: 16px;"><strong>ä¼˜åŒ–ç­–ç•¥ï¼š</strong>æ¨¡æ¿å¤ç”¨ + ç¼“å­˜ä¼˜åŒ– + æ™ºèƒ½åˆ†é…</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // å¯¼å‡ºæ–‡æ¡£
        function exportDocument() {
            const documentContent = document.getElementById('documentPreview').innerHTML;
            if (documentContent.includes('loading')) {
                alert('è¯·å…ˆç”Ÿæˆæ–‡æ¡£åå†å¯¼å‡º');
                return;
            }
            
            const blob = new Blob([`
                <!DOCTYPE html>
                <html>
                <head>
                    <meta charset="UTF-8">
                    <title>Product Document</title>
                    <style>
                        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; margin: 40px; }
                        .document { max-width: 800px; margin: 0 auto; }
                        .document-header { background: linear-gradient(135deg, #007AFF, #5856D6); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }
                        .document-title { font-size: 28px; font-weight: 700; margin-bottom: 8px; }
                        .document-subtitle { font-size: 16px; opacity: 0.9; }
                        .document-content { padding: 30px; border: 1px solid #C6C6C8; border-top: none; border-radius: 0 0 8px 8px; }
                        .doc-section { margin-bottom: 32px; }
                        .doc-section-title { font-size: 20px; font-weight: 600; margin-bottom: 16px; color: #007AFF; }
                        .metric-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin: 20px 0; }
                        .metric-card { background: #F2F2F7; padding: 16px; border-radius: 8px; text-align: center; }
                        .metric-value { font-size: 24px; font-weight: 700; color: #007AFF; margin-bottom: 4px; }
                        .metric-label { font-size: 12px; color: #8E8E93; }
                        .feature-list { list-style: none; margin: 16px 0; }
                        .feature-list li { padding: 8px 0; }
                        .feature-list li::before { content: "âœ“"; color: #34C759; font-weight: bold; margin-right: 8px; }
                        .checkbox-group { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
                        .checkbox-item { padding: 6px 12px; background: #007AFF; color: white; border-radius: 16px; font-size: 12px; }
                    </style>
                </head>
                <body>
                    ${documentContent}
                </body>
                </html>
            `], { type: 'text/html' });
            
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'product-document.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // ç›‘å¬è¾“å…¥å˜åŒ–ï¼Œå®æ—¶æ›´æ–°Tokené¢„ç®—
        document.getElementById('totalBudget').addEventListener('input', updateTokenBudget);
    </script>
</body>
</html>